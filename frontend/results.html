<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Krishi - Disease Detection Results</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="results.css">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo-section">
            <div class="logo"><img src="./images/image.png" alt="."></div>
            <div>
                <div class="brand-name" data-en="Digital Krishi" data-ne="‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§ï‡•É‡§∑‡§ø">Digital Krishi</div>
                <div style="font-size: 0.8rem; opacity: 0.9;" data-en="Plant Disease Analysis" data-ne="‡§¨‡§ø‡§∞‡•Å‡§µ‡§æ ‡§∞‡•ã‡§ó ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£">Plant Disease Analysis</div>
            </div>
        </div>
        <div class="user-section">
            <div class="controls">
                <button class="btn-icon" id="themeToggle">üåô</button>
                <button class="btn-icon" id="langToggle">üåê EN</button>
            </div>
            <button class="back-btn" data-en="Back to Scanner" data-ne="‡§∏‡•ç‡§ï‡•ç‡§Ø‡§æ‡§®‡§∞‡§Æ‡§æ ‡§´‡§∞‡•ç‡§ï‡§®‡•Å‡§π‡•ã‡§∏‡•ç">Back to Scanner</button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Loading State -->
        <div id="loadingState" class="loading-container">
            <div class="loading-spinner"></div>
            <h2 data-en="Analyzing Plant Image..." data-ne="‡§¨‡§ø‡§∞‡•Å‡§µ‡§æ ‡§õ‡§µ‡§ø ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ó‡§∞‡•ç‡§¶‡•à...">Analyzing Plant Image...</h2>
            <p data-en="Our AI is examining your plant for disease detection" data-ne="‡§π‡§æ‡§Æ‡•ç‡§∞‡•ã AI ‡§§‡§™‡§æ‡§à‡§Ç‡§ï‡•ã ‡§¨‡§ø‡§∞‡•Å‡§µ‡§æ‡§≤‡§æ‡§à ‡§∞‡•ã‡§ó ‡§™‡§§‡•ç‡§§‡§æ ‡§≤‡§ó‡§æ‡§â‡§® ‡§ú‡§æ‡§Å‡§ö ‡§ó‡§∞‡•ç‡§¶‡•à‡§õ">Our AI is examining your plant for disease detection</p>
        </div>

        <!-- Results Container -->
        <div id="resultsContainer" class="results-container" style="display: none;">
            <!-- Image Preview -->
            <div class="image-preview-section">
                <h3 data-en="Scanned Image" data-ne="‡§∏‡•ç‡§ï‡•ç‡§Ø‡§æ‡§® ‡§ó‡§∞‡§ø‡§è‡§ï‡•ã ‡§õ‡§µ‡§ø">Scanned Image</h3>
                <div class="image-preview">
                    <img id="scannedImage" src="" alt="Scanned plant image">
                </div>
            </div>

            <!-- Analysis Results -->
            <div class="analysis-section">
                <h3 data-en="Analysis Results" data-ne="‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ‡§π‡§∞‡•Ç">Analysis Results</h3>
                
                <div id="diseaseStatus" class="status-card">
                    <!-- Status will be populated by JavaScript -->
                </div>

                <div id="diseaseDetails" class="details-card">
                    <!-- Disease details will be populated by JavaScript -->
                </div>

                <div id="treatmentRecommendations" class="treatment-card">
                    <!-- Treatment recommendations will be populated by JavaScript -->
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="actions-section">
                <button class="action-btn primary" id="scanNewBtn" data-en="Scan New Image" data-ne="‡§®‡§Ø‡§æ‡§Å ‡§õ‡§µ‡§ø ‡§∏‡•ç‡§ï‡•ç‡§Ø‡§æ‡§® ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç">Scan New Image</button>
                <button class="action-btn secondary" id="saveResultsBtn" data-en="Save Results" data-ne="‡§™‡§∞‡§ø‡§£‡§æ‡§Æ‡§π‡§∞‡•Ç ‡§¨‡§ö‡§§ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç">Save Results</button>
                <button class="action-btn secondary" id="shareResultsBtn" data-en="Share Results" data-ne="‡§™‡§∞‡§ø‡§£‡§æ‡§Æ‡§π‡§∞‡•Ç ‡§∏‡•á‡§Ø‡§∞ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç">Share Results</button>
            </div>
        </div>

        <!-- Error State -->
        <div id="errorState" class="error-container" style="display: none;">
            <div class="error-icon">‚ö†Ô∏è</div>
            <h2 data-en="Analysis Failed" data-ne="‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§Ö‡§∏‡§´‡§≤">Analysis Failed</h2>
            <p id="errorMessage" data-en="Unable to analyze the image. Please try again." data-ne="‡§õ‡§µ‡§ø ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ó‡§∞‡•ç‡§® ‡§∏‡§ï‡§ø‡§è‡§®‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§´‡•á‡§∞‡§ø ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç‡•§">Unable to analyze the image. Please try again.</p>
            <button class="action-btn primary" id="retryBtn" data-en="Try Again" data-ne="‡§´‡•á‡§∞‡§ø ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç">Try Again</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabase-config.js"></script>
    <script src="js/gemini-ai.js"></script>
    <script src="js/results.js"></script>
</body>
</html>
